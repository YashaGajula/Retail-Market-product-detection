<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Detection Portal</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background: url('/static/images/super_market.jpg') no-repeat center center fixed;
            background-size: cover;
            color: #e2d6d6;
        }

        /* General Styles for the Container and Footer */
        .container, .about, .results, .project-overview {
            text-align: center;
            padding: 50px;
            background: rgba(219, 231, 224, 0.6);
            margin: 50px auto;
            border-radius: 15px;
            max-width: 800px;
        }

        /* Headings: Yellow and Bold */
        h1, h2, h3 {
            font-size: 2.5em;
            margin-bottom: 20px;
            font-weight: bold;
            color: yellow; /* Yellow color for headings */
        }

        p {
            font-size: 1.2em;
            line-height: 1.5;
            font-weight: bold;
            color: rgb(21, 20, 20);
        }

        .carousel-item img {
            width: 80%; /* Resize the images */
            margin: auto; /* Center the image */
            height: auto;
            border-radius: 10px;
        }

        footer {
            text-align: center;
            margin-top: 20px;
            font-size: 0.9em;
            color: #0c0c0c;
        }

        footer a {
            color: #161515;
            text-decoration: none;
        }

        footer a:hover {
            text-decoration: underline;
        }

        /* Style for carousel control arrows */
        .carousel-control-prev-icon, .carousel-control-next-icon {
            background-color: rgb(17, 17, 17); /* Change arrow color to white */
            font-weight: bold;
        }

        .carousel-control-prev, .carousel-control-next {
            font-size: 1.5em; /* Make the arrows larger */
            font-weight: bold;
            color: rgb(18, 18, 18);
        }

        /* Justified alignment for project overview */
        .project-overview {
            text-align: left;
            margin-top: 30px;
        }

        .project-overview ul {
            text-align: justify;
            font-size: 1.2em;
            line-height: 1.8;
            padding: 0 20px;
        }

        .project-overview li {
            margin-bottom: 15px;
        }

    </style>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <!-- Main Detection Section -->
    <div class="container">
        <h1>Product Detection Portal</h1>
        <p>Welcome to the Product Detection Portal! This tool allows you to upload images of supermarket shelves or products to detect and visualize items with bounding boxes.</p>
        <h2>Instructions</h2>
        <p>
            1. Select an image using the "Choose File" button below.<br>
            2. Click "Get Predictions (JSON)" to see the detected objects in JSON format.<br>
            3. Click "Visualize Image with Bounding Boxes" to see the image with bounding boxes drawn on detected objects.<br>
            4. Ensure you upload clear images for better detection accuracy.
        </p>
        <h2>Upload an Image</h2>
        <!-- Form for image upload -->
        <form id="image-form" enctype="multipart/form-data" method="POST">
            <input type="file" name="file" id="file-input" accept="image/*" required>
            <br>
            <button type="submit" formaction="/visualize">Visualize Image with Bounding Boxes</button>
            <button type="submit" formaction="/predict_json">Get Predictions (JSON)</button>
        </form>
    </div>

    <!-- Project Overview Section -->
    <div class="project-overview">
        <h2>Project Overview</h2>
        <p>This project involves the detection of various products on supermarket shelves using a computer vision model. Below are the steps followed to complete the project:</p>
        <ul>
            <li><strong>Data Collection:</strong> A small dataset of supermarket shelf images was used, with products manually annotated and categorized into 9 classes, including beauty products, biscuits, bottles, chocolates, disinfectants, meats, oils, products, and shampoos.</li>
            <li><strong>Data Annotation:</strong> The collected images were manually annotated using the <strong>Roboflow</strong> tool, where each object in the image was assigned to one of the 9 product classes.</li>
            <li><strong>Data Augmentation:</strong> The dataset was augmented using various techniques in Roboflow, such as rotation, flipping, and scaling, to improve model performance and generalization.</li>
            <li><strong>Model Selection:</strong> The <strong>YOLOv11</strong> model was chosen for training, as it is efficient and widely used for object detection tasks.</li>
            <li><strong>Model Training:</strong> The annotated and augmented dataset was used to train the model. The model's performance was evaluated with metrics: <strong>Precision</strong> = 87.7%, <strong>Recall</strong> = 42.6%, and <strong>mAP</strong> = 46.1%.</li>
            <li><strong>Visualization:</strong> Training loss and accuracy graphs were generated to visualize the model's progress and understand its performance during training.</li>
            <li><strong>Model Deployment:</strong> The trained model was deployed using a <strong>Flask server</strong>, enabling real-time predictions for product detection on new images uploaded by users.</li>
            <li><strong>Frontend Development:</strong> A user-friendly frontend was created with HTML, CSS, and JavaScript, allowing users to upload images, visualize bounding boxes, and obtain predictions in JSON format.</li>
        </ul>
    </div>

    <!-- Data Preprocessing and Training Section -->
    <div class="about">
        <h2>Data Preprocessing and Training</h2>
        <p>Here are the images showing the data preprocessing steps and training graphs:</p>
        <!-- Carousel for Data Preprocessing and Training -->
        <div id="preprocessingCarousel" class="carousel slide" data-bs-ride="carousel">
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <img src="/static/images/data_preprocessing_1.jpeg" class="d-block w-100" alt="Data Preprocessing Step 1">
                </div>
                <div class="carousel-item">
                    <img src="/static/images/data_preprocessing_2.jpeg" class="d-block w-100" alt="Data Preprocessing Step 2">
                </div>
            </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#preprocessingCarousel" data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#preprocessingCarousel" data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Next</span>
            </button>
        </div>

        <div id="trainingCarousel" class="carousel slide" data-bs-ride="carousel">
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <img src="/static/images/training_loss.jpeg" class="d-block w-100" alt="Training Loss Graph">
                </div>
                <div class="carousel-item">
                    <img src="/static/images/training_accuracy.jpeg" class="d-block w-100" alt="Training Accuracy Graph">
                </div>
            </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#trainingCarousel" data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#trainingCarousel" data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Next</span>
            </button>
        </div>
    </div>

    <!-- Results Section -->
    <div class="results">
        <h2>Results and Metrics</h2>
        <p><strong>Model Performance:</strong></p>
        <ul>
            <li><strong>Mean Average Precision (mAP)</strong>: 46.1%</li>
            <li><strong>Precision</strong>: 87.7%</li>
            <li><strong>Recall</strong>: 42.6%</li>
        </ul>
        <h3>Sample Detections</h3>
        <!-- Carousel for Sample Detections -->
        <div id="detectionsCarousel" class="carousel slide" data-bs-ride="carousel">
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <img src="/static/images/detection_2.jpeg" class="d-block w-100" alt="Detection Example 1">
                </div>
                <div class="carousel-item">
                    <img src="/static/images/detection_1.jpeg" class="d-block w-100" alt="Detection Example 2">
                </div>
                <div class="carousel-item">
                    <img src="/static/images/detection_3.jpeg" class="d-block w-100" alt="Detection Example 3">
                </div>
            </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#detectionsCarousel" data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#detectionsCarousel" data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Next</span>
            </button>
        </div>
    </div>

    <footer>
        <p>&copy; 2024 Product Detection Portal | <a href="#">Learn More</a></p>
    </footer>

    <!-- Bootstrap JS and Popper.js -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js"></script>
</body>
</html>
